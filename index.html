<html>
<head>
	<meta charset="UTF-8">
	<title>Minor Blues Pentatonic Just Intonation Keyboard</title>
	<style>
		body {
			font-family: Georgia, serif;
			margin: 0;
			height: 100vh;
		}

		#controls {
			display: flex;
			justify-content: center;
			margin-top: 20px;
		}

		#controls select {
			width: 100%;
		}

		#controls > div:first-child {
			width: 200px;
			display: flex;
			justify-content: center;
			flex-direction: column;
		}

		#controls > div:first-child > div {
			display: flex;
		}

		#tonality-input {width: 6em;}
		#output-volume {
			width: 100%;
		}

	</style>
</head>
<body>


<div id="controls">
	<div>
		<div>
			<input id="tonality-input" type="number" value=440>
			<select id="tonality-select"></select>
		</div>
		<select id="intonation-select"></select>
		<select id="scale-select"></select>
	</div>
	<div>
		<input type="range" id="output-volume" />
	</div>
</div>



<script>
	const context = new (window.AudioContext || window.webkitAudioContext)();
	context.masterOut = context.createGain();
	context.masterOut.gain.value = .1;
	context.masterOut.connect(context.destination);
</script>
<script type="text/javascript" src="keyboard.js"></script>
<script type="text/javascript" src="scales.js"></script>
<script type="text/javascript" src="source.js"></script>
<script type="text/javascript" src="ui.js"></script>
<script>

	function init() {

		tonalityInput.value = standardFrequencies["C"];
		tonalitySelect.value = "C";
		intonationSelect.value = "just";
		scaleSelect.value = "minorBlues";
		//scaleSelect.value = "multiKeyboard";

		controls.addEventListener("change", updateKeyboard);
		updateKeyboard();

	}

	init();

</script>

</body>
</html>